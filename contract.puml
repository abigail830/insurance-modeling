@startuml
' --- Diagram Settings ---
!theme plain
title Insurance Contract Entity Relationship Diagram (Comprehensive)

skinparam rectangle {
    BorderColor #2B343B
    BackgroundColor #F3F3F3
    StereotypeFontColor #2B343B
    FontColor #2B343B
}
skinparam entity {
    BorderColor #2B343B
    BackgroundColor #FFFFFF
}
skinparam arrow {
    Color #2B343B
}
hide empty fields

' --- Actor/Party Entities with Attributes ---
entity "<b>Insurer</b>（保险公司）" as Insurer {
  + Company Name
}

entity "<b>Policyholder</b>（投保人）" as Policyholder {
  + Name
  + ID Number
  + Address
  + Contact Info
}

entity "<b>Insured Person</b>（被保险人）" as InsuredPerson {
  + Name
  + ID Number
  --
  <i>Relationship to Policyholder</i>
}

entity "<b>Beneficiary</b>（受益人）" as Beneficiary {
  + Name
  --
  <i>Order/Share</i>
}

' --- Core Contract Entity with Attributes ---
entity "<b>Insurance Contract</b>（保险合同）" as Contract {
  + Contract ID
  --
  Liability
  Period
  Sum Insured
  Premium
  Effective Date
  Status
}

' --- Document Entities with Attributes ---
entity "<b>Application Form</b>（投保单）" as ApplicationForm {
  <i>Serves as the "offer" for contract formation</i>
  --
  Policyholder/Insured Person Information
  Applied Insurance Content
}

entity "<b>Cover Note</b>（暂保单）" as CoverNote {
  <i>Temporary insurance certificate</i>
  --
  Coverage Scope and Period
}

entity "<b>Policy Document</b>（保险单）" as PolicyDocument {
  <i>Formal written proof of contract</i>
  --
  Records rights and obligations of all parties
}

entity "<b>Insurance Certificate</b>（保险凭证）" as Certificate {
  <i>Simplified form of policy document</i>
  --
  Has same legal effect as policy document
}

' --- Process Entities with Attributes ---
entity "<b>Endorsement</b>（批单）" as Endorsement {
  + Endorsement ID
  --
  Modification Content
  Endorsement Date
}




' --- Relationships Definition ---

' Core Relationships
Insurer ||--o{ Contract : Issues
Policyholder ||--o{ Contract : "Applies for/Owns"
Contract }o--o{ InsuredPerson : Covers
Contract }o--o{ Beneficiary : Designates

' Document Lifecycle Relationships
ApplicationForm ||..r.> Contract : Initiates
CoverNote ||..r.> Contract : "Provides temporary cover for"
Contract ||--|| PolicyDocument : "Is formalized by"
PolicyDocument <..> Certificate : "Can be represented by"

' Process Relationships
Contract ||--o{ Endorsement : "Is amended by"




@enduml